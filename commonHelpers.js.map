{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const API_KEY = \"43236176-8efbdba212834d112cbf0fa21\";\nconst BASE_URL = 'https://pixabay.com/api/?';\n\nexport function fetchImages(searchValue) {\n  const SEARCH_PARAMS = new URLSearchParams({\n    key: API_KEY,\n    q: searchValue,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n    return fetch(`${BASE_URL}${SEARCH_PARAMS}`)\n        .then(response => {\n    if (!response.ok) throw new Error(response.statusText);\n    return response.json();\n  });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  captionsData: 'alt',\n  captionDelay: 350,\n});\n\nexport function getGallery(parent, arr) {\n  parent.innerHTML = getMarkup(arr);\n  lightbox.refresh();\n}\n\nfunction getMarkup(arr) {\n  return arr\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n      ` <div class=\"photo-card\">\n    <a href=\"${largeImageURL}\">\n      <img class=\"photo-img\" src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n    </a>\n    <div class=\"info\">\n      <p class=\"info-item\">\n        <b>Likes</b>\n        ${likes}\n      </p>\n      <p class=\"info-item\">\n        <b>Views</b>\n        ${views}\n      </p>\n      <p class=\"info-item\">\n        <b>Comments</b>\n        ${comments}\n      </p>\n      <p class=\"info-item\">\n        <b>Downloads</b>\n        ${downloads}\n      </p>\n    </div>\n    </div>`\n    )\n    .join('');\n}","import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport { fetchImages } from './js/pixabay-api';\nimport { getGallery } from './js/render-functions.js';\n\nimport './css/styles.css';\n\nconst searchForm = document.querySelector('.search-form');\nconst input = document.querySelector('.search-form__input');\nconst gallery = document.querySelector('.gallery');\nconst loader = document.querySelector('.preloader');\n\n\nsearchForm.addEventListener('submit', handlerSearch);\n\n\n//loader\n\nfunction showLoader() {\n    loader.classList.remove('is-hidden');\n}\n\nfunction hideLoader() {\n    loader.classList.add('is-hidden');\n}\n\n\nfunction handlerSearch(event) {\n    event.preventDefault();\n  gallery.innerHTML = '';\n  \n  showLoader(); //loader\n    \n    loader.classList.remove('is-hidden');\n\n    const inputSearchValue = input.value.trim();\n\n    if (inputSearchValue === '') {\n        errorMessage(`Please fill out the input field!`);\n        searchForm.reset();\n\n        loader.classList.add('is-hidden');\n\n        return;            \n    }\n\n    fetchImages(inputSearchValue)\n        .then(data => {            \n            if (data.hits.length === 0) {\n                errorMessage(`Sorry, there are no images matching your search query. Please try again!`);\n                return;\n            }\n            getGallery(gallery, data.hits);            \n        })\n        .catch(error => console.log(error))\n        .finally(() => {\n\n            loader.classList.add('is-hidden');\n            hideLoader();\n            searchForm.reset(); \n        });\n}\n\nconst iziToastParam = {\n  title: '',    \n  position: 'topRight',\n  backgroundColor: '#ef4040',\n  messageColor: '#fff',\n  titleColor: '#fff',\n  timeout: 3000,\n  pauseOnHover: false, \n};\n\nfunction errorMessage(message) {\n  iziToast.error({\n    ...iziToastParam,\n    message: `${message}`,\n  });\n}"],"names":["API_KEY","BASE_URL","fetchImages","searchValue","SEARCH_PARAMS","response","lightbox","SimpleLightbox","getGallery","parent","arr","getMarkup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","searchForm","input","gallery","loader","handlerSearch","showLoader","hideLoader","event","inputSearchValue","errorMessage","data","error","iziToastParam","message","iziToast"],"mappings":"6vBAAA,MAAMA,EAAU,qCACVC,EAAW,4BAEV,SAASC,EAAYC,EAAa,CACvC,MAAMC,EAAgB,IAAI,gBAAgB,CACxC,IAAKJ,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAEC,OAAO,MAAM,GAAGF,CAAQ,GAAGG,CAAa,EAAE,EACrC,KAAKC,GAAY,CACtB,GAAI,CAACA,EAAS,GAAI,MAAM,IAAI,MAAMA,EAAS,UAAU,EACrD,OAAOA,EAAS,MACpB,CAAG,CACH,CCdA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,aAAc,MACd,aAAc,GAChB,CAAC,EAEM,SAASC,EAAWC,EAAQC,EAAK,CACtCD,EAAO,UAAYE,EAAUD,CAAG,EAChCJ,EAAS,QAAO,CAClB,CAEA,SAASK,EAAUD,EAAK,CACtB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAE,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACD;AAAA,eACSL,CAAa;AAAA,oCACQD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,UAKpDC,CAAK;AAAA;AAAA;AAAA;AAAA,UAILC,CAAK;AAAA;AAAA;AAAA;AAAA,UAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,UAIRC,CAAS;AAAA;AAAA;AAAA,WAId,EACA,KAAK,EAAE,CACZ,CCvCA,MAAMC,EAAa,SAAS,cAAc,cAAc,EAClDC,EAAQ,SAAS,cAAc,qBAAqB,EACpDC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAS,SAAS,cAAc,YAAY,EAGlDH,EAAW,iBAAiB,SAAUI,CAAa,EAKnD,SAASC,GAAa,CAClBF,EAAO,UAAU,OAAO,WAAW,CACvC,CAEA,SAASG,GAAa,CAClBH,EAAO,UAAU,IAAI,WAAW,CACpC,CAGA,SAASC,EAAcG,EAAO,CAC1BA,EAAM,eAAc,EACtBL,EAAQ,UAAY,GAEpBG,IAEEF,EAAO,UAAU,OAAO,WAAW,EAEnC,MAAMK,EAAmBP,EAAM,MAAM,KAAI,EAEzC,GAAIO,IAAqB,GAAI,CACzBC,EAAa,kCAAkC,EAC/CT,EAAW,MAAK,EAEhBG,EAAO,UAAU,IAAI,WAAW,EAEhC,MACH,CAEDpB,EAAYyB,CAAgB,EACvB,KAAKE,GAAQ,CACV,GAAIA,EAAK,KAAK,SAAW,EAAG,CACxBD,EAAa,0EAA0E,EACvF,MACH,CACDpB,EAAWa,EAASQ,EAAK,IAAI,CACzC,CAAS,EACA,MAAMC,GAAS,QAAQ,IAAIA,CAAK,CAAC,EACjC,QAAQ,IAAM,CAEXR,EAAO,UAAU,IAAI,WAAW,EAChCG,IACAN,EAAW,MAAK,CAC5B,CAAS,CACT,CAEA,MAAMY,EAAgB,CACpB,MAAO,GACP,SAAU,WACV,gBAAiB,UACjB,aAAc,OACd,WAAY,OACZ,QAAS,IACT,aAAc,EAChB,EAEA,SAASH,EAAaI,EAAS,CAC7BC,EAAS,MAAM,CACb,GAAGF,EACH,QAAS,GAAGC,CAAO,EACvB,CAAG,CACH"}